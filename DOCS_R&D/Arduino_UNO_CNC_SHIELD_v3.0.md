–ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ö—ñ–ª—å–∫—ñ—Å—Ç—å | –ü–æ–∑–Ω–∞—á–µ–Ω–Ω—è
Arduino UNO | 1 —à—Ç. | GRBL-–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä
CNC Shield v3.0 | 1 —à—Ç. | –°—É–º—ñ—Å–Ω–∏–π –∑ Arduino
–î—Ä–∞–π–≤–µ—Ä–∏ A4988 | 2 —à—Ç. (+1 –∑–∞–ø–∞—Å–Ω–∏–π) | –î–ª—è –¥–≤–∏–≥—É–Ω—ñ–≤ X, Y
–ö—Ä–æ–∫–æ–≤—ñ –¥–≤–∏–≥—É–Ω–∏ NEMA17 (42a02c) | 2 —à—Ç. (X,Y) | 42a02c
–õ–∞–∑–µ—Ä–Ω–∏–π –º–æ–¥—É–ª—å NZQB40W-24V | 1 —à—Ç. | –ó Air Assist
–ö—ñ–Ω—Ü–µ–≤—ñ –≤–∏–º–∏–∫–∞—á—ñ YL-99 | 2 —à—Ç. (X-min, Y-min) | Endstops –∑ LED
–ë–ª–æ–∫ –∂–∏–≤–ª–µ–Ω–Ω—è 24V, 10-15A (3 –≤–∏—Ö–æ–¥–∏) | 1 —à—Ç. | 24V DC
–ü—Ä–æ–≤–æ–¥–∏ (–µ–∫—Ä–∞–Ω–æ–≤–∞–Ω—ñ –¥–ª—è –∫—ñ–Ω—Ü–µ–≤–∏–∫—ñ–≤) | –∫–æ–º–ø–ª–µ–∫—Ç | –î–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
USB-–∫–∞–±–µ–ª—å | 1 —à—Ç. | Arduino ‚Üî –ü–ö

üíª–ü—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è
‚úÖ GRBL firmware:
–ó–∞–≤–∞–Ω—Ç–∞–∂ GRBL –ø—Ä–æ—à–∏–≤–∫—É —á–µ—Ä–µ–∑ Arduino IDE:
–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ GRBL: github.com/gnea/grbl
–ù–∞—Ç–∏—Å–Ω–∏ –∫–Ω–æ–ø–∫—É Code > Download ZIP.
–†–æ–∑–ø–∞–∫—É–π ZIP –≤ –∑—Ä—É—á–Ω—É —Ç–µ–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Documents/Arduino/libraries/grbl)
–í—ñ–¥–∫—Ä–∏–π —Ñ–∞–π–ª config.h –≤ –±—É–¥—å-—è–∫–æ–º—É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ (VS Code, Notepad++, Arduino IDE)

#define HOMING_CYCLE_0 (1<<X_AXIS)  // COREXY COMPATIBLE: First home X
#define HOMING_CYCLE_1 (1<<Y_AXIS)  // COREXY COMPATIBLE: Then home Y

–î–æ–¥–∞—Ç–∏ –≤ –∫—ñ–Ω—Ü—ñ —Ñ–∞–π–ª—É config.h:
#define DEFAULT_SPINDLE_PWM_FREQ 5000
#define VARIABLE_SPINDLE

–í—ñ–¥–∫—Ä–∏–π —Ñ–∞–π–ª default.h –≤ –±—É–¥—å-—è–∫–æ–º—É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ (VS Code, Notepad++, Arduino IDE)
#define DEFAULT_X_STEPS_PER_MM 80.0
#define DEFAULT_Y_STEPS_PER_MM 80.0
#define DEFAULT_Z_STEPS_PER_MM 80.0
#define DEFAULT_X_MAX_RATE 5000.0
#define DEFAULT_Y_MAX_RATE 5000.0
#define DEFAULT_Z_MAX_RATE 500.0
#define DEFAULT_X_ACCELERATION 100.0
#define DEFAULT_Y_ACCELERATION 100.0
#define DEFAULT_Z_ACCELERATION 100.0
#define DEFAULT_SPINDLE_RPM_MAX 1000.0
#define DEFAULT_SPINDLE_RPM_MIN 0.0
#define DEFAULT_LASER_MODE 1
#define DEFAULT_HARD_LIMIT_ENABLE 1
#define DEFAULT_HOMING_ENABLE 1
#define DEFAULT_HOMING_DIR_MASK 3


–í—ñ–¥–∫—Ä–∏–π Arduino IDE ‚Üí –ó–∞–≤–∞–Ω—Ç–∞–∂ GRBL –≤ Arduino UNO.

–í—Å—Ç–∞–Ω–æ–≤–∏ –±—É–¥—å-—è–∫—É CNC-–ø—Ä–æ–≥—Ä–∞–º—É –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è (–Ω–∞–ø—Ä. Universal Gcode Sender).
‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–æ–Ω—ñ–∫–∏:
–ü—ñ–¥–∫–ª—é—á–∏—Å—å —á–µ—Ä–µ–∑ USB —ñ –ø–µ—Ä–µ–≤—ñ—Ä, —á–∏ —Ä—É—Ö–∞—é—Ç—å—Å—è –¥–≤–∏–≥—É–Ω–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ ¬´X10 Y10 Z10¬ª –≤ Gcode Sender.
–ü–µ—Ä–µ–≤—ñ—Ä –Ω–∞–ø—Ä—è–º–æ–∫ —Ä—É—Ö—É, –ø—Ä–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –ø–æ–º—ñ–Ω—è–π –ø—Ä–æ–≤–æ–¥–∏ –º—ñ—Å—Ü—è–º–∏.

‚öôÔ∏è –°—Ö–µ–º–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:
1Ô∏è‚É£ Arduino UNO + CNC Shield v3.0:
CNC Shield –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—à –∑–≤–µ—Ä—Ö—É Arduino UNO.

2Ô∏è‚É£ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–≤–∏–≥—É–Ω—ñ–≤ —á–µ—Ä–µ–∑ –¥—Ä–∞–π–≤–µ—Ä–∏ A4988:
–î–≤–∏–≥—É–Ω (–≤—ñ—Å—å) | –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (–Ω–∞ Shield)
X-axis (NEMA17) | –°–ª–æ—Ç X (A4988)
Y-axis (NEMA17) | –°–ª–æ—Ç Y (A4988)
–í–∏—Å—Ç–∞–≤–ª—è—î—à —Å—Ç—Ä—É–º –Ω–∞ –¥—Ä–∞–π–≤–µ—Ä–∞—Ö A4988:
–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è (Vref): ~0.7‚Äì0.8V

3Ô∏è‚É£ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ª–∞–∑–µ—Ä–Ω–æ–≥–æ –º–æ–¥—É–ª—è NZQB40W-24V:
–ë–ª–æ–∫ –∂–∏–≤–ª–µ–Ω–Ω—è 24V (+) ‚Üí –õ–∞–∑–µ—Ä–Ω–∏–π –º–æ–¥—É–ª—å (+24V)
–ë–ª–æ–∫ –∂–∏–≤–ª–µ–Ω–Ω—è 24V (-) ‚Üí –õ–∞–∑–µ—Ä–Ω–∏–π –º–æ–¥—É–ª—å (GND)
CNC Shield SpnEn (PWM) ‚Üí –õ–∞–∑–µ—Ä–Ω–∏–π –º–æ–¥—É–ª—å (PWM input)
CNC Shield GND ‚Üí –õ–∞–∑–µ—Ä–Ω–∏–π –º–æ–¥—É–ª—å (PWM GND)

4Ô∏è‚É£ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫—ñ–Ω—Ü–µ–≤–∏—Ö –≤–∏–º–∏–∫–∞—á—ñ–≤ YL-99:
X min (YL-99):
VCC ‚Üí Arduino +5V (–æ–∫—Ä–µ–º–æ, –Ω–∞ Arduino —î –≤—ñ–ª—å–Ω–∏–π –∫–æ–Ω—Ç–∞–∫—Ç 5V)
GND ‚Üí CNC Shield (X- GND)
OUT ‚Üí CNC Shield (X- Signal)

X max (YL-99):
VCC ‚Üí Arduino +5V (–æ–∫—Ä–µ–º–æ, –Ω–∞ Arduino —î –≤—ñ–ª—å–Ω–∏–π –∫–æ–Ω—Ç–∞–∫—Ç 5V)
GND ‚Üí CNC Shield (X+ GND)
OUT ‚Üí CNC Shield (X+ Signal)

Y min (YL-99):
VCC ‚Üí Arduino +5V (–æ–∫—Ä–µ–º–æ, –Ω–∞ Arduino —î –≤—ñ–ª—å–Ω–∏–π –∫–æ–Ω—Ç–∞–∫—Ç 5V)
GND ‚Üí CNC Shield (Y- GND)
OUT ‚Üí CNC Shield (Y- Signal)

Y max (YL-99):
VCC ‚Üí Arduino +5V (–æ–∫—Ä–µ–º–æ, –Ω–∞ Arduino —î –≤—ñ–ª—å–Ω–∏–π –∫–æ–Ω—Ç–∞–∫—Ç 5V)
GND ‚Üí CNC Shield (Y+ GND)
OUT ‚Üí CNC Shield (Y+ Signal)

–ê–±–æ

4Ô∏è‚É£ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Å—É—Ö–∏—Ö –∫—ñ–Ω—Ü–µ–≤–∏—Ö –≤–∏–º–∏–∫–∞—á—ñ–≤:
X min:
GND ‚Üí CNC Shield (X- GND)
OUT ‚Üí CNC Shield (X- Signal)

X max:
GND ‚Üí CNC Shield (X+ GND)
OUT ‚Üí CNC Shield (X+ Signal)

Y min:
GND ‚Üí CNC Shield (Y- GND)
OUT ‚Üí CNC Shield (Y- Signal)

Y max:
GND ‚Üí CNC Shield (Y+ GND)
OUT ‚Üí CNC Shield (Y+ Signal)

5Ô∏è‚É£ –ñ–∏–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ (24V, 20-25A):
–ü–µ—Ä–µ–≤—ñ—Ä–º–æ –ø—Ä–∏–±–ª–∏–∑–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è:
–î–≤–∏–≥—É–Ω–∏ (NEMA17): ~2A (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ, —Ä–∞–∑–æ–º)
–õ–∞–∑–µ—Ä NZQB40W-24V: –¥–æ 3-4A (–∑ –∑–∞–ø–∞—Å–æ–º)
Raspberry Pi 5: 3–ê (—á–µ—Ä–µ–∑ LM2593 –∞–±–æ LM2596 DC-DC)
–í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∏ —Ç–∞ Air Assist: –¥–æ 1–ê –∑–∞–ø–∞—Å
–ó–∞–≥–∞–ª—å–Ω–∏–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Å—Ç—Ä—É–º ‚âà 2 + 4 + 3 + 1 ‚âà 10–ê
–ó –∑–∞–ø–∞—Å–æ–º 25%: ~12.5–ê, —Ç–æ–º—É –±–ª–æ–∫ –∂–∏–≤–ª–µ–Ω–Ω—è 24V 20-25A —á—É–¥–æ–≤–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å —ñ –º–∞—î –≤–µ–ª–∏–∫–∏–π –∑–∞–ø–∞—Å.

–õ–∞–∑–µ—Ä = —Ç–æ–≤—Å—Ç–∏–π –∫–∞–±–µ–ª—å (~1.5 –º–º¬≤).
–î–≤–∏–≥—É–Ω–∏ = —Å–µ—Ä–µ–¥–Ω—ñ–π (~0.5 –º–º¬≤).
–ö—ñ–Ω—Ü–µ–≤–∏–∫–∏ = —Ç–æ–Ω–∫–∏–π (~0.22 –º–º¬≤).

–¢—Ä–∏ –≤–∏—Ö–æ–¥–∏ –Ω–∞ –±–ª–æ—Ü—ñ –∂–∏–≤–ª–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à –¥–ª—è:
–í–∏—Ö—ñ–¥ –ë–ñ | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∂–∏–≤–ª–µ–Ω–Ω—è
1 | CNC Shield (–∫—Ä–æ–∫–æ–≤—ñ –¥–≤–∏–≥—É–Ω–∏)
2 | –õ–∞–∑–µ—Ä–Ω–∏–π –º–æ–¥—É–ª—å (NZQB40W)
3 | Rasberry Pi (—á–µ—Ä–µ–∑ Lm2593)
4 | –ó–∞–ø–∞—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä, Air Assist –∞–±–æ –º–∞–π–±—É—Ç–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏)
5 | Arduino UNO –∂–∏–≤–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ USB –≤—ñ–¥ Rasberry Pi.

–Ø–∫ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ü—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ GRBL:
1Ô∏è‚É£ –í—ñ–¥–∫—Ä–∏–π CNC.js –∞–±–æ Universal Gcode Sender
–ü—ñ–¥'—î–¥–Ω–∞–π Arduino –¥–æ Raspberry Pi (–∞–±–æ –ü–ö) —á–µ—Ä–µ–∑ USB.
–ó–∞–ø—É—Å—Ç–∏ CNC.js (—É –±—Ä–∞—É–∑–µ—Ä—ñ: http://IP_Raspberry:8000) –∞–±–æ Universal Gcode Sender.
2Ô∏è‚É£ –ü—ñ–¥'—î–¥–Ω–∞–π—Å—è –¥–æ GRBL (Arduino):
–í–∏–±–µ—Ä–∏ –ø–æ—Ä—Ç (–∑–∞–∑–≤–∏—á–∞–π: /dev/ttyACM0 —á–∏ /dev/ttyUSB0).
–í–∏–±–µ—Ä–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á—ñ: 115200.
–ù–∞—Ç–∏—Å–Ω–∏ "Connect".
3Ô∏è‚É£ –í—ñ–¥–∫—Ä–∏–π –∫–æ–Ω—Å–æ–ª—å (Terminal) –≤ CNC.js –∞–±–æ –≤–∫–ª–∞–¥–∫—É ¬´Console¬ª –≤ Universal Gcode Sender:
–£ CNC.js —Ü–µ –Ω–∏–∂–Ω—è –ø–∞–Ω–µ–ª—å "Console".
–í Universal Gcode Sender ‚Äî –≤–∫–ª–∞–¥–∫–∞ "Console".
4Ô∏è‚É£ –°–∫–æ–ø—ñ—é–π —Ç–∞ –≤—Å—Ç–∞–≤ —Ç–∞–∫—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—å (–ø–æ —á–µ—Ä–∑—ñ, —Ä—è–¥–æ–∫ –∑–∞ —Ä—è–¥–∫–æ–º):

$0=10         ; step pulse, Œºs
$1=255        ; idle delay, ms (–∑–∞–ª–∏—à–∞—î –¥–≤–∏–≥—É–Ω–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–∏–º–∏)
$2=0          ; step port invert
$3=0          ; direction invert
$4=0          ; step enable invert
$5=0          ; limit pins invert (NO –∫—ñ–Ω—Ü–µ–≤–∏–∫–∏)
$6=0          ; probe pin invert

$10=1         ; status report: MPos
$11=0.010     ; junction deviation, –º–º
$12=0.002     ; arc tolerance, –º–º
$13=0         ; report inches
$20=0         ; soft limits (–≤–∏–º–∫–Ω–µ–Ω—ñ)
$21=1         ; hard limits —É–≤—ñ–º–∫–Ω–µ–Ω—ñ
$22=1         ; homing —É–≤—ñ–º–∫–Ω–µ–Ω–∏–π
$23=3         ; homing dir X+ Y+
$24=100.000   ; homing seek rate
$25=500.000   ; homing feed rate
$26=250       ; debounce
$27=2.000     ; pull-off
$30=1000      ; max spindle PWM
$31=0         ; min spindle PWM
$32=1         ; laser mode

$100=80.000   ; X steps/mm (GT2 + 20 –∑—É–±—ñ–≤)
$101=80.000   ; Y steps/mm
$102=80.000   ; Z steps/mm (–∑–∞–≥–ª—É—à–∫–∞)
$110=5000.000 ; X max rate mm/min
$111=5000.000 ; Y max rate mm/min
$112=500.000  ; Z max rate
$120=100.000  ; X acceleration mm/sec^2
$121=100.000  ; Y acceleration mm/sec^2
$122=100.000  ; Z acceleration
$130=350.000  ; X travel mm
$131=350.000  ; Y travel mm
$132=50.000   ; Z travel (–∑–∞–≥–ª—É—à–∫–∞)



–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–≤–µ–¥–µ–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤:
$$

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏ –ª–∞–∑–µ—Ä–∞ —á–µ—Ä–µ–∑ SpnEn:
M3 S500     ; —É–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –ª–∞–∑–µ—Ä–∞ –Ω–∞ 50% –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ
G1 X50 F500 ; —Ä—É—Ö –æ—Å—ñ X –Ω–∞ 50 –º–º
G1 Y50      ; —Ä—É—Ö –æ—Å—ñ Y –Ω–∞ 50 –º–º
G1 X0       ; –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø–æ X –Ω–∞ –ø–æ—á–∞—Ç–∫–æ–≤—É –ø–æ–∑–∏—Ü—ñ—é
G1 Y0       ; –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø–æ Y –Ω–∞ –ø–æ—á–∞—Ç–∫–æ–≤—É –ø–æ–∑–∏—Ü—ñ—é
M5          ; –≤–∏–º–∫–Ω–µ–Ω–Ω—è –ª–∞–∑–µ—Ä–∞
–∞–±–æ
M3 S500  ; –í–º–∏–∫–∞—î –ª–∞–∑–µ—Ä (50% –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å)
M5       ; –í–∏–º–∏–∫–∞—î –ª–∞–∑–µ—Ä


üõ†Ô∏è –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏ —Å—Ç–∞–Ω–∫–∞ (—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è):
–ü—ñ–¥–∫–ª—é—á–∞—î—à Arduino –¥–æ –ü–ö.
–ó–∞–ø—É—Å–∫–∞—î—à Universal Gcode Sender.
–í–∏–∫–æ–Ω—É—î—à –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ—à—É–∫—É –Ω—É–ª—è (home):
$H

M3 S500
G1 X50 F500
G1 Y50
G1 X0
G1 Y0
M5

–ü–µ—Ä–µ–≤—ñ—Ä –∫—ñ–Ω—Ü–µ–≤–∏–∫–∏:
$X
?
<Idle|MPos:0.000,0.000,0.000|FS:0,0|Pn:X>
–û–∑–Ω–∞—á–∞—î, —â–æ X –∫—ñ–Ω—Ü–µ–≤–∏–∫ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏–π –∞–±–æ –∑–∞–º–∫–Ω—É—Ç–∏–π –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (—è–∫—â–æ –±–µ–∑ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è ‚Äî —Ü–µ –ø–æ–º–∏–ª–∫–∞!).
–ú–∞—î –±—É—Ç–∏:
<Idle|MPos:0.000,0.000,0.000|FS:0,0>

–¢–µ—Å—Ç–æ–≤–∏–π Homing (G-–∫–æ–¥ —Å–∫—Ä–∏–ø—Ç)
$X           ; —Ä–æ–∑–±–ª–æ–∫—É–π
G91          ; –≤—ñ–¥–Ω–æ—Å–Ω–µ –ø–æ–∑–∏—Ü—ñ—é–≤–∞–Ω–Ω—è
G0 X-5 Y-5   ; —Ç—Ä–æ—Ö–∏ –≤—ñ–¥—ñ–π–¥–∏ –Ω–∞–∑–∞–¥ (–Ω–∞ –≤—Å—è–∫–∏–π –≤–∏–ø–∞–¥–æ–∫)
$H           ; –∑–∞–ø—É—Å—Ç–∏ Homing

#define HOMING_CYCLE_0 (1<<X_AXIS)  // –°–ø–æ—á–∞—Ç–∫—É X
#define HOMING_CYCLE_1 (1<<Y_AXIS)  // –ü–æ—Ç—ñ–º Y

defaults.h
#define DEFAULT_HOMING_ENABLE 1
#define DEFAULT_HOMING_DIR_MASK 3 // X+Y+
#define DEFAULT_HARD_LIMIT_ENABLE 1
#define DEFAULT_HOMING_PULLOFF 2.0

